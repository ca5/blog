# GEMINI.md: ブログ記事作成ガイド

このリポジトリは [Pelican](https://blog.getpelican.com/) を利用して静的サイトを生成し、GitHub Pagesでホスティングしています。
このガイドは、新しいブログ記事をスムーズに作成、プレビュー、公開するため手順をまとめたものです。

## 1. 記事を作成する

新しい記事を作成するには、`yyyymmdd_template.md` をコピーしてファイル名を変更します。ファイル名は `YYYYMMDD_slug.md` の形式を推奨します。

```bash
cp yyyymmdd_template.md content/20251029_my-new-post.md
```

### 記事のメタデータ

コピーしたファイルを開き、先頭のメタデータ（ヘッダー）を編集します。

*   **Title:** 記事のタイトル
*   **Date:** 記事の公開日時 (YYYY-MM-DD HH:MM)
*   **Author:** 著者名 (通常は `Ca5`)
*   **Category:** カテゴリ (`create`, `release` など)
*   **Tags:** タグ (カンマ区切りで複数指定可)
*   **Slug:** URLに使われる文字列 (英数字とハイフンを推奨)

### 記事の本文と画像の追加

メタデータの後に、Markdown形式で記事の本文を記述します。

#### 画像を追加する場合

1.  `content/images` ディレクトリ内に、記事の公開日と同じ `YYYYMMDD` 形式のディレクトリを作成します。
    ```bash
    mkdir -p content/images/20251029
    ```
2.  作成したディレクトリに画像ファイルを保存します。
3.  記事の本文中で、以下のように `{filename}` タグを使って画像を参照します。

    ```markdown
    ![代替テキスト]({filename}/images/20251029/your-image.jpg)
    ```

## 2. ローカルでプレビューする

記事を公開する前に、ローカル環境で表示を確認します。

以下のコマンドを実行すると、開発用のWebサーバーが起動します。

```bash
make devserver
```

Webブラウザで `http://localhost:8000` を開くと、サイトのプレビューが表示されます。
記事のファイルを変更すると、自動的にプレビューも更新されます。

**プレビューが表示されない場合:**
画像パスの間違いなどでサイト生成に失敗している可能性があります。特に、新しく追加した画像のパスが `({filename}/images/YYYYMMDD/...)` の形式になっているか確認してください。

プレビューを停止するには、`make stopserver` を実行します。

## 3. 記事を公開する

記事が完成したら、以下のコマンドでサイトを生成し、GitHub Pagesに公開します。

```bash
make github
```

このコマンドは、`output` ディレクトリに最新のサイトを生成し、`gh-pages` ブランチにプッシュします。

## 4. 便利なツール

### カテゴリとタグの使用状況を確認する

`tool` ディレクトリには、既存のカテゴリやタグの使用頻度を確認できるスクリプト `content_stats.sh` があります。記事にタグ付けをする際の参考になります。

```bash
sh tool/content_stats.sh
```